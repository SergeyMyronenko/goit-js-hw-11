{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst galleryBox = document.querySelector('.gallery-box');\nconst loader = document.querySelector('.loader');\nconst input = document.querySelector('input');\n\nlet paramsInfo = {\n  key: '37773269-50f55f614e71cb99e92638715',\n  q: 'black',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nfunction searchImg(params) {\n  loader.style.display = 'block';\n  gallery.style.display = 'none';\n  setTimeout(() => {\n    fetch(`https://pixabay.com/api/?${params}`)\n      .then(response => {\n        loader.style.display = 'none';\n        gallery.style.display = 'flex';\n        if (!response.ok) {\n          throw new Error(error.status);\n        }\n        return response.json();\n      })\n      .then(({ hits }) => {\n        if (hits.length > 0) {\n          const renderImg = hits.reduce((html, hit) => {\n            return (\n              html +\n              `<li class=\"gallery-item\">\n        <a href=${hit.largeImageURL}> \n          <img class=\"gallery-img\" src =${hit.webformatURL} alt=${hit.tags}/>\n        </a>\n        <div class=\"gallery-text-box\">\n          <p>Likes: <span class=\"text-value\">${hit.likes}</span></p>\n          <p>views: <span class=\"text-value\">${hit.views}</span></p>\n          <p>comments: <span class=\"text-value\">${hit.comments}</span></p>\n          <p>downloads: <span class=\"text-value\">${hit.downloads}</span></p>\n      </div>\n      </li>`\n            );\n          }, '');\n          gallery.innerHTML = renderImg;\n          new SimpleLightbox('.gallery a', {\n            nav: true,\n            captionDelay: 250,\n            captionsData: 'alt',\n            close: true,\n            enableKeyboard: true,\n            docClose: true,\n          });\n        } else {\n          gallery.style.display = 'none';\n          iziToast.error({\n            position: 'topRight',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, 2000);\n}\n\nform.addEventListener('click', event => {\n  event.preventDefault();\n\n  if (event.target.type === 'submit') {\n    paramsInfo.q = input.value;\n    const searchParams = new URLSearchParams(paramsInfo);\n    searchImg(searchParams);\n  }\n  form.reset();\n});\n"],"names":["form","gallery","loader","input","paramsInfo","searchImg","params","response","hits","renderImg","html","hit","SimpleLightbox","iziToast","error","event","searchParams"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC9B,SAAS,cAAc,cAAc,EACxD,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,OAAO,EAE5C,IAAIC,EAAa,CACf,IAAK,qCACL,EAAG,QACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEA,SAASC,EAAUC,EAAQ,CACzBJ,EAAO,MAAM,QAAU,QACvBD,EAAQ,MAAM,QAAU,OACxB,WAAW,IAAM,CACf,MAAM,4BAA4BK,GAAQ,EACvC,KAAKC,GAAY,CAGhB,GAFAL,EAAO,MAAM,QAAU,OACvBD,EAAQ,MAAM,QAAU,OACpB,CAACM,EAAS,GACZ,MAAM,IAAI,MAAM,MAAM,MAAM,EAE9B,OAAOA,EAAS,MACxB,CAAO,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClB,GAAIA,EAAK,OAAS,EAAG,CACnB,MAAMC,EAAYD,EAAK,OAAO,CAACE,EAAMC,IAEjCD,EACA;AAAA,kBACIC,EAAI;AAAA,0CACoBA,EAAI,oBAAoBA,EAAI;AAAA;AAAA;AAAA,+CAGvBA,EAAI;AAAA,+CACJA,EAAI;AAAA,kDACDA,EAAI;AAAA,mDACHA,EAAI;AAAA;AAAA,aAI1C,EAAE,EACLV,EAAQ,UAAYQ,EACpB,IAAIG,EAAe,aAAc,CAC/B,IAAK,GACL,aAAc,IACd,aAAc,MACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACtB,CAAW,CACX,MACUX,EAAQ,MAAM,QAAU,OACxBY,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACd,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,CACJ,EAAE,GAAI,CACT,CAEAd,EAAK,iBAAiB,QAASe,GAAS,CAGtC,GAFAA,EAAM,eAAc,EAEhBA,EAAM,OAAO,OAAS,SAAU,CAClCX,EAAW,EAAID,EAAM,MACrB,MAAMa,EAAe,IAAI,gBAAgBZ,CAAU,EACnDC,EAAUW,CAAY,CACvB,CACDhB,EAAK,MAAK,CACZ,CAAC"}